<nb-card>
  <nb-card-body>
    <div class="row mb-2">
      <div class="col">
        <nb-card status="success">
          <nb-card-header>Select Chart Options</nb-card-header>
          <nb-card-body>
            <div class="row mb-2">
              <div class="col-2">Chart Type:</div>
              <div class="col-4">
                <nb-select name="ddlChartType" status="primary" size="small" (selectedChange)="onChageChartType($event)"
                  [(selected)]="selectedChartType" fullWidth>
                  <nb-option value="SERIES">Time Series</nb-option>
                  <nb-option value="MLOC">Monitoring Location Averages</nb-option>
                </nb-select>
              </div>
              <div class="col-6"></div>
            </div>
            <div class="row mb-2">
              <div class="col-2">Characteristic:</div>
              <div class="col-4">
                <nb-select name="ddlCharacteristic" status="primary" size="small" [(selected)]="selectedCharacteristic"
                  (selectedChange)="onChageCharacteristic($event)" fullWidth>
                  <nb-option *ngFor="let characteristic of characteristics" [value]="characteristic.charName">
                    {{ characteristic.charName }}</nb-option>
                </nb-select>
              </div>
              <div class="col-2">Data to Include:</div>
              <div class="col-4">
                <nb-select name="ddlDataInclude" status="primary" size="small"
                  (selectedChange)="onChageDataInclude($event)" [(selected)]="selectedDataInclude" fullWidth>
                  <nb-option value="A">Include all my data</nb-option>
                  <nb-option value="W">Only include data shared with EPA</nb-option>
                </nb-select>
              </div>
            </div>
            <div class="row mb-2">

            </div>
            <div class="row mb-2" *ngIf="!showSecondCharacteristic === false && selectedChartType === 'SERIES'">
              <div class="col-2">Second Characteristic:</div>
              <div class="col-4">
                <nb-select name="ddlCharacteristic2" status="primary" size="small" placeholder="abcd"
                  [(selected)]="selectedCharacteristic2" fullWidth>
                  <nb-option *ngFor="let characteristic of characteristics" [value]="characteristic.charName">
                    {{ characteristic.charName }}</nb-option>
                </nb-select>
              </div>
              <div class="col-2"></div>
              <div class="col-4">

              </div>
            </div>
            <div class="row mb-2">
              <div class="col-2">Monitoring Location:</div>
              <div class="col-4">
                <div *ngIf="selectedChartType === 'MLOC'">
                  <nb-select multiple fullWidth status="primary" size="small" name="ddlMonLocMulti"
                    [(selected)]="monlocSelectedMulti">
                    <nb-option *ngFor="let monloc of monlocs" [value]="monloc.monlocIdx">
                      {{ monloc.monlocId }}</nb-option>
                  </nb-select>
                </div>
                <div *ngIf="selectedChartType === 'SERIES'">
                  <nb-select fullWidth status="primary" size="small" name="ddlMonLoc" [(selected)]="monlocSelected">
                    <nb-option *ngFor="let monloc of monlocs" [value]="monloc.monlocIdx">
                      {{ monloc.monlocId }}</nb-option>
                  </nb-select>
                </div>

              </div>
              <div class="col-2">Number of Decimals:</div>
              <div class="col-4">
                <input type="number" size="tiny" status="success" nbInput [(ngModel)]="txtDecimals" name="txtDecimals"
                  maxlength="1" />
              </div>
            </div>
            <div class="row mb-2">
              <div class="col-2">Date Range:</div>
              <div class="col-4">
                <p-calendar appendTo="body" [showIcon]="true" hideOnDateTimeSelect="true" [(ngModel)]="txtStartDate"
                  name="txtStartDate" [baseZIndex]="100000">
                </p-calendar>
              </div>
              <div class="col-2">To:</div>
              <div class="col-4">
                <p-calendar appendTo="body" [showIcon]="true" hideOnDateTimeSelect="true" [(ngModel)]="txtEndDate"
                  name="txtEndDate" [baseZIndex]="100000">
                </p-calendar>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">
                <button nbButton (click)="showClicked()">Show</button>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
    </div>
    <div class="row mb-2" *ngIf="showChart === 'show'">
      <div class="col-8">
        <nb-card size="midum">
          <nb-card-body>
            <chart #myChart type="{{ selectedChartStyle }}" [data]="data" [options]="options"
              style="width: 100%; height: 500px;">
            </chart>
            <!-- <div *ngIf="selectedChartStyle === 'line' || selectedChartStyle === 'point'">
              <chart #myChart1 type="line" [data]="data" [options]="options" style="width: 100%; height: 500px;">
              </chart>
            </div>
            <div *ngIf="selectedChartStyle === 'bar'">
              <chart #myChart2 type="bar" [data]="data" [options]="options" style="width: 100%; height: 500px;"></chart>
            </div> -->
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-4">
        <nb-card>
          <nb-card-header>Chart Display Options</nb-card-header>
          <nb-card-body>
            <div class="row mb-2">
              <div class="col">
                <nb-checkbox name="chkZero" [(checked)]="chkZero" status="danger"
                  (checkedChange)="onChkZeroChanged($event)">Include zero in y-axis</nb-checkbox>
              </div>
            </div>
            <div class="row mb-2">
              <div class="col">
                <nb-select name="ddlChartStyle" status="primary" size="small"
                  (selectedChange)="onChageChartStyle($event)" [(selected)]="selectedChartStyle" fullWidth>
                  <nb-option value="line">Line Chart</nb-option>
                  <nb-option value="scatter">Scatter Chart</nb-option>
                  <nb-option value="bar">Bar Chart</nb-option>
                </nb-select>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
    </div>
  </nb-card-body>
</nb-card>
<nb-card>
  <nb-card-body>
    <div [hidden]="!dtTableShow">
      <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
        <thead>
          <tr>
            <th>Monitoring Location</th>
            <th>Characteristic</th>
            <th>Date</th>
            <th>Result</th>
            <th>Detection Limit</th>
            <th>Unit</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows">
            <td>{{ row.monloC_ID }}</td>
            <td>{{ row.chaR_NAME }}</td>
            <td>{{ row.acT_START_DT | date: 'yyyy-MM-dd' }}</td>
            <td>{{ getDecimals(row.resulT_MSR) }}</td>
            <td>{{ row.detectioN_LIMIT }}</td>
            <td>{{ row.resulT_MSR_UNIT }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </nb-card-body>
</nb-card>